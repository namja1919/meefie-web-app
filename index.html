<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meefie - AI Celebrity Detection & Photo Staking</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background: #f8f9fa;
        }
        .meefie-gradient {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        }
        .tier-gradient {
            background: linear-gradient(45deg, #CD7F32, #C0C0C0, #FFD700, #E5E4E2, #B9F2FF);
        }
        .btn-primary {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            border: none;
            border-radius: 50px;
            padding: 12px 24px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(79, 172, 254, 0.4);
        }
        .celebrity-tier {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 16px;
            font-weight: bold;
            color: white;
        }
        .bronze { background: #CD7F32; }
        .silver { background: #C0C0C0; }
        .gold { background: #FFD700; color: #000; }
        .platinum { background: #E5E4E2; color: #000; }
        .diamond { background: #B9F2FF; color: #000; }
        .upload-area {
            border: 3px dashed #4facfe;
            border-radius: 12px;
            padding: 40px;
            text-align: center;
            transition: all 0.3s ease;
        }
        .upload-area:hover {
            border-color: #00f2fe;
            background: rgba(79, 172, 254, 0.05);
        }
        .camera-container {
            position: relative;
            border-radius: 12px;
            overflow: hidden;
            margin: 20px 0;
            border: 3px solid #4facfe;
        }
        .camera-video {
            width: 100%;
            height: 400px;
            object-fit: cover;
        }
        .camera-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            pointer-events: none;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            padding: 20px;
        }
        .camera-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .camera-footer {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
        }
        .capture-button {
            width: 70px;
            height: 70px;
            background: white;
            border: 5px solid #4facfe;
            border-radius: 50%;
            cursor: pointer;
            z-index: 10;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .capture-button::after {
            content: '';
            position: absolute;
            width: 50px;
            height: 50px;
            background: #4facfe;
            border-radius: 50%;
        }
        .cancel-button, .switch-button {
            width: 50px;
            height: 50px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 10;
        }
        .detection-result {
            border: 3px solid #4facfe;
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            position: relative;
        }
        .confidence-meter {
            height: 10px;
            background: #eee;
            border-radius: 5px;
            overflow: hidden;
            margin: 10px 0;
        }
        .confidence-fill {
            height: 100%;
            border-radius: 5px;
            transition: width 0.5s ease;
        }
        .bronze .confidence-fill { background: #CD7F32; }
        .silver .confidence-fill { background: #C0C0C0; }
        .gold .confidence-fill { background: #FFD700; }
        .platinum .confidence-fill { background: #E5E4E2; }
        .diamond .confidence-fill { background: #B9F2FF; }
        .user-tier {
            padding: 8px 16px;
            border-radius: 50px;
            font-weight: 600;
            display: inline-block;
            margin: 5px;
        }
        .starter { background: #f8f9fa; color: #6c757d; }
        .explorer { background: #d1ecf1; color: #0c5460; }
        .influencer { background: #d4edda; color: #155724; }
        .elite { background: #fff3cd; color: #856404; }
        .prestige { background: #f8d7da; color: #721c24; }
        .camera-error {
            background: #fff0f0;
            border: 1px solid #ffcccc;
            border-radius: 8px;
            padding: 12px;
            margin: 15px 0;
            color: #d32f2f;
        }
        .camera-loader {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: white;
            z-index: 20;
        }
        .loader-spinner {
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top: 4px solid white;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin-bottom: 15px;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="bg-gray-50">
    <div id="app"></div>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script type="text/babel">
        const App = () => {
            const [currentPage, setCurrentPage] = React.useState('home');
            const [user, setUser] = React.useState(null);
            const [uploadedPhoto, setUploadedPhoto] = React.useState(null);
            const [cameraActive, setCameraActive] = React.useState(false);
            const [cameraLoading, setCameraLoading] = React.useState(false);
            const [capturedImage, setCapturedImage] = React.useState(null);
            const [detectionResults, setDetectionResults] = React.useState([]);
            const [detectionProgress, setDetectionProgress] = React.useState(0);
            const [showDetection, setShowDetection] = React.useState(false);
            const [userTier, setUserTier] = React.useState('Starter');
            const [userMftBalance, setUserMftBalance] = React.useState(500);
            const [stakedPhotos, setStakedPhotos] = React.useState([]);
            const [showStakingModal, setShowStakingModal] = React.useState(false);
            const [selectedPhoto, setSelectedPhoto] = React.useState(null);
            const [cameraError, setCameraError] = React.useState('');
            const [cameraStream, setCameraStream] = React.useState(null);
            const [currentView, setCurrentView] = React.useState('upload'); // 'upload' or 'camera'
            
            const videoRef = React.useRef(null);
            const canvasRef = React.useRef(null);
            
            // Celebrity database with AI confidence scores
            const celebrityDatabase = [
                // Diamond Tier (60% APY)
                { name: 'Leonardo DiCaprio', tier: 'Diamond', apy: 60, confidence: 0.98, image: 'https://placehold.co/100x100/CD7F32/ffffff?text=LD' },
                { name: 'Beyonc√©', tier: 'Diamond', apy: 60, confidence: 0.97, image: 'https://placehold.co/100x100/CD7F32/ffffff?text=B' },
                { name: 'Tom Hanks', tier: 'Diamond', apy: 60, confidence: 0.96, image: 'https://placehold.co/100x100/CD7F32/ffffff?text=TH' },
                { name: 'Jennifer Lawrence', tier: 'Diamond', apy: 60, confidence: 0.95, image: 'https://placehold.co/100x100/CD7F32/ffffff?text=JL' },
                { name: 'Will Smith', tier: 'Diamond', apy: 60, confidence: 0.94, image: 'https://placehold.co/100x100/CD7F32/ffffff?text=WS' },
                // Platinum Tier (40% APY)
                { name: 'Brad Pitt', tier: 'Platinum', apy: 40, confidence: 0.93, image: 'https://placehold.co/100x100/C0C0C0/ffffff?text=BP' },
                { name: 'Angelina Jolie', tier: 'Platinum', apy: 40, confidence: 0.92, image: 'https://placehold.co/100x100/C0C0C0/ffffff?text=AJ' },
                { name: 'Meryl Streep', tier: 'Platinum', apy: 40, confidence: 0.91, image: 'https://placehold.co/100x100/C0C0C0/ffffff?text=MS' },
                { name: 'George Clooney', tier: 'Platinum', apy: 40, confidence: 0.90, image: 'https://placehold.co/100x100/C0C0C0/ffffff?text=GC' },
                { name: 'Robert Downey Jr.', tier: 'Platinum', apy: 40, confidence: 0.89, image: 'https://placehold.co/100x100/C0C0C0/ffffff?text=RDJ' },
                // Gold Tier (30% APY)
                { name: 'Jennifer Aniston', tier: 'Gold', apy: 30, confidence: 0.88, image: 'https://placehold.co/100x100/FFD700/000000?text=JA' },
                { name: 'Johnny Depp', tier: 'Gold', apy: 30, confidence: 0.87, image: 'https://placehold.co/100x100/FFD700/000000?text=JD' },
                { name: 'Julia Roberts', tier: 'Gold', apy: 30, confidence: 0.86, image: 'https://placehold.co/100x100/FFD700/000000?text=JR' },
                { name: 'Denzel Washington', tier: 'Gold', apy: 30, confidence: 0.85, image: 'https://placehold.co/100x100/FFD700/000000?text=DW' },
                { name: 'Scarlett Johansson', tier: 'Gold', apy: 30, confidence: 0.84, image: 'https://placehold.co/100x100/FFD700/000000?text=SJ' },
                // Silver Tier (20% APY)
                { name: 'Eva Longoria', tier: 'Silver', apy: 20, confidence: 0.83, image: 'https://placehold.co/100x100/E5E4E2/000000?text=EL' },
                { name: 'Josh Radnor', tier: 'Silver', apy: 20, confidence: 0.82, image: 'https://placehold.co/100x100/E5E4E2/000000?text=JR' },
                { name: 'Kat Dennings', tier: 'Silver', apy: 20, confidence: 0.81, image: 'https://placehold.co/100x100/E5E4E2/000000?text=KD' },
                { name: 'Jesse Eisenberg', tier: 'Silver', apy: 20, confidence: 0.80, image: 'https://placehold.co/100x100/E5E4E2/000000?text=JE' },
                { name: 'Aubrey Plaza', tier: 'Silver', apy: 20, confidence: 0.79, image: 'https://placehold.co/100x100/E5E4E2/000000?text=AP' },
                // Bronze Tier (10% APY)
                { name: 'Abigail Breslin', tier: 'Bronze', apy: 10, confidence: 0.78, image: 'https://placehold.co/100x100/B9F2FF/000000?text=AB' },
                { name: 'Jason Segel', tier: 'Bronze', apy: 10, confidence: 0.77, image: 'https://placehold.co/100x100/B9F2FF/000000?text=JS' },
                { name: 'Rashida Jones', tier: 'Bronze', apy: 10, confidence: 0.76, image: 'https://placehold.co/100x100/B9F2FF/000000?text=RJ' },
                { name: 'Justin Long', tier: 'Bronze', apy: 10, confidence: 0.75, image: 'https://placehold.co/100x100/B9F2FF/000000?text=JL' },
                { name: 'Mena Suvari', tier: 'Bronze', apy: 10, confidence: 0.74, image: 'https://placehold.co/100x100/B9F2FF/000000?text=MS' }
            ];
            
            // User tier system
            const userTiers = {
                Starter: { maxStakes: 0, fee: 0, benefits: ['Basic platform access', 'Free photo capture'] },
                Explorer: { maxStakes: 2, fee: 20, benefits: ['Stake 2 photos', 'Basic staking rewards'] },
                Influencer: { maxStakes: 5, fee: 50, benefits: ['Stake 5 photos', 'Exclusive events access'] },
                Elite: { maxStakes: 10, fee: 100, benefits: ['Stake 1-10 photos', 'Enhanced rewards', 'VIP features'] },
                Prestige: { maxStakes: Infinity, fee: 500, benefits: ['Unlimited staking', 'VIP access', 'Priority support', 'Exclusive events'] }
            };
            
            const login = () => {
                setUser({ name: 'John Doe', wallet: '0x123...abc', email: 'john@example.com' });
                setCurrentPage('dashboard');
            };
            
            const logout = () => {
                setUser(null);
                setCurrentPage('home');
            };
            
            const startCamera = async () => {
                setCameraError('');
                setCameraLoading(true);
                setCurrentView('camera');
                
                try {
                    // First check if camera is supported
                    if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {
                        setCameraError('Camera access is not supported in your browser. Please try a modern browser like Chrome or Firefox.');
                        setCameraLoading(false);
                        return;
                    }
                    
                    const constraints = {
                        video: {
                            facingMode: 'user',
                            width: { ideal: 1280 },
                            height: { ideal: 720 }
                        }
                    };
                    
                    const stream = await navigator.mediaDevices.getUserMedia(constraints);
                    setCameraStream(stream);
                    
                    if (videoRef.current) {
                        videoRef.current.srcObject = stream;
                        videoRef.current.onloadedmetadata = () => {
                            videoRef.current.play();
                            setCameraActive(true);
                            setCameraLoading(false);
                        };
                    }
                } catch (err) {
                    setCameraLoading(false);
                    
                    if (err.name === 'NotAllowedError') {
                        setCameraError('Camera access denied. Please allow camera access to use this feature.');
                    } else if (err.name === 'NotFoundError') {
                        setCameraError('No camera found on this device.');
                    } else if (err.name === 'NotReadableError') {
                        setCameraError('Camera is already in use by another application.');
                    } else {
                        setCameraError(`Error accessing camera: ${err.message}`);
                    }
                    
                    console.error('Camera error:', err);
                    setCurrentView('upload');
                }
            };
            
            const stopCamera = () => {
                if (cameraStream) {
                    cameraStream.getTracks().forEach(track => track.stop());
                    setCameraStream(null);
                }
                setCameraActive(false);
                setCurrentView('upload');
            };
            
            const capturePhoto = () => {
                if (!videoRef.current || !canvasRef.current) return;
                
                const video = videoRef.current;
                const canvas = canvasRef.current;
                const context = canvas.getContext('2d');
                
                // Set canvas dimensions to match video
                canvas.width = video.videoWidth;
                canvas.height = video.videoHeight;
                
                // Draw video frame to canvas
                context.drawImage(video, 0, 0, canvas.width, canvas.height);
                
                // Convert to image data URL
                const imageDataUrl = canvas.toDataURL('image/jpeg');
                setCapturedImage(imageDataUrl);
                setUploadedPhoto(imageDataUrl);
                
                // Stop camera
                stopCamera();
            };
            
            const startDetection = () => {
                if (!capturedImage && !uploadedPhoto) {
                    alert('Please capture or upload a photo first!');
                    return;
                }
                
                setShowDetection(true);
                setDetectionProgress(0);
                setDetectionResults([]);
                
                // Simulate AI detection process
                let progress = 0;
                const interval = setInterval(() => {
                    progress += 2;
                    setDetectionProgress(progress);
                    
                    if (progress === 20) {
                        // Face detection phase
                        setTimeout(() => {
                            // Randomly detect 1-3 people in the photo
                            const numPeople = Math.floor(Math.random() * 3) + 1;
                            const detectedPeople = [];
                            
                            for (let i = 0; i < numPeople; i++) {
                                // Randomly select a celebrity from the database
                                const randomIndex = Math.floor(Math.random() * celebrityDatabase.length);
                                detectedPeople.push(celebrityDatabase[randomIndex]);
                            }
                            
                            setDetectionResults(detectedPeople);
                        }, 500);
                    }
                    
                    if (progress === 100) {
                        clearInterval(interval);
                        setTimeout(() => {
                            setShowDetection(false);
                        }, 1500);
                    }
                }, 50);
            };
            
            const stakePhoto = (photo) => {
                const tierInfo = userTiers[userTier];
                if (stakedPhotos.length >= tierInfo.maxStakes && userTier !== 'Prestige') {
                    alert(`Your ${userTier} tier only allows ${tierInfo.maxStakes} concurrent stakes. Upgrade to a higher tier for more stakes.`);
                    return;
                }
                if (userMftBalance < tierInfo.fee && tierInfo.fee > 0) {
                    alert(`Insufficient MFT balance. You need ${tierInfo.fee} MFT to stake a photo with your ${userTier} tier.`);
                    return;
                }
                if (tierInfo.fee > 0) {
                    setUserMftBalance(userMftBalance - tierInfo.fee);
                }
                const newStake = {
                    id: stakedPhotos.length + 1,
                    photo: photo,
                    stakeDate: new Date().toISOString().split('T')[0],
                    apy: photo.celebrity.apy,
                    dailyReturn: (photo.celebrity.apy / 365).toFixed(4),
                    totalReturn: 0
                };
                setStakedPhotos([...stakedPhotos, newStake]);
                alert(`${photo.celebrity.name} photo staked successfully! You'll earn ${photo.celebrity.apy}% APY based on their ${photo.celebrity.tier} tier status.`);
                setSelectedPhoto(null);
                setShowStakingModal(false);
            };
            
            const upgradeTier = (newTier) => {
                const tierInfo = userTiers[newTier];
                if (userMftBalance < tierInfo.fee) {
                    alert(`Insufficient MFT balance. You need ${tierInfo.fee} MFT to upgrade to ${newTier} tier.`);
                    return;
                }
                setUserMftBalance(userMftBalance - tierInfo.fee);
                setUserTier(newTier);
                alert(`Successfully upgraded to ${newTier} tier! You can now stake up to ${tierInfo.maxStakes} photos simultaneously.`);
            };
            
            const DetectionModal = () => (
                <div className="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 z-50">
                    <div className="bg-white rounded-2xl max-w-2xl w-full p-8">
                        <h2 className="text-2xl font-bold text-gray-800 mb-6 text-center">AI Celebrity Detection in Progress</h2>
                        <div className="text-center mb-6">
                            <div className="w-24 h-24 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4">
                                <svg xmlns="http://www.w3.org/2000/svg" className="h-12 w-12 text-blue-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                                </svg>
                            </div>
                            <p className="text-lg text-gray-600">Analyzing photo for celebrity identification...</p>
                        </div>
                        <div className="w-full bg-gray-200 rounded-full h-3 mb-6">
                            <div 
                                className="bg-gradient-to-r from-blue-500 to-cyan-500 h-3 rounded-full transition-all duration-300"
                                style={{ width: `${detectionProgress}%` }}
                            ></div>
                        </div>
                        <div className="text-sm text-gray-500 text-center">
                            {detectionProgress < 20 && "Initializing AI detection system..."}
                            {detectionProgress >= 20 && detectionProgress < 40 && "Detecting faces in the photo..."}
                            {detectionProgress >= 40 && detectionProgress < 70 && "Analyzing facial features..."}
                            {detectionProgress >= 70 && detectionProgress < 90 && "Matching with celebrity database..."}
                            {detectionProgress >= 90 && "Calculating confidence scores..."}
                            {detectionProgress === 100 && "Detection complete!"}
                        </div>
                    </div>
                </div>
            );
            
            const StakingModal = () => (
                <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50">
                    <div className="bg-white rounded-2xl max-w-md w-full p-6">
                        <div className="text-center mb-6">
                            <h2 className="text-2xl font-bold text-gray-800 mb-2">Stake Your Celebrity Photo</h2>
                            <p className="text-gray-600">Earn $MFT tokens based on celebrity tier</p>
                        </div>
                        <div className="bg-gray-50 rounded-xl p-4 mb-6">
                            <div className="flex items-center mb-3">
                                <img src={selectedPhoto?.celebrity.image} alt={selectedPhoto?.celebrity.name} className="w-16 h-16 rounded-lg mr-4" />
                                <div>
                                    <h3 className="font-bold text-gray-800">{selectedPhoto?.celebrity.name}</h3>
                                    <p className={`text-sm font-bold ${selectedPhoto?.celebrity.tier === 'Diamond' ? 'text-blue-600' : 
                                        selectedPhoto?.celebrity.tier === 'Platinum' ? 'text-gray-600' :
                                        selectedPhoto?.celebrity.tier === 'Gold' ? 'text-yellow-600' :
                                        selectedPhoto?.celebrity.tier === 'Silver' ? 'text-gray-500' : 'text-orange-600'}`}>
                                        {selectedPhoto?.celebrity.tier} Tier
                                    </p>
                                </div>
                            </div>
                            <div className="flex justify-between items-center mb-2">
                                <span className="text-gray-600">APY Reward Rate:</span>
                                <span className="font-bold text-green-600">{selectedPhoto?.celebrity.apy}%</span>
                            </div>
                            <div className="flex justify-between items-center">
                                <span className="text-gray-600">Staking Fee:</span>
                                <span className="font-bold text-gray-800">
                                    {userTiers[userTier].fee > 0 ? `${userTiers[userTier].fee} MFT` : 'Free'}
                                </span>
                            </div>
                        </div>
                        <button 
                            onClick={() => stakePhoto(selectedPhoto)}
                            className="w-full btn-primary"
                        >
                            Stake Photo & Start Earning
                        </button>
                        <button 
                            onClick={() => setShowStakingModal(false)}
                            className="w-full mt-3 text-gray-600 py-3 rounded-xl font-semibold hover:bg-gray-100 transition"
                        >
                            Cancel
                        </button>
                    </div>
                </div>
            );
            
            const HomePage = () => (
                <div className="min-h-screen">
                    {/* Header */}
                    <header className="bg-white shadow-sm">
                        <div className="container mx-auto px-4 py-4 flex justify-between items-center">
                            <div className="flex items-center space-x-2">
                                <div className="w-10 h-10 bg-gradient-to-r from-blue-400 to-cyan-400 rounded-full flex items-center justify-center">
                                    <span className="text-white font-bold text-lg">M</span>
                                </div>
                                <h1 className="text-2xl font-bold bg-gradient-to-r from-blue-600 to-cyan-600 text-transparent bg-clip-text">Meefie</h1>
                            </div>
                            <nav className="hidden md:flex space-x-8">
                                <a href="#how-it-works" className="text-gray-700 hover:text-blue-600 transition">How It Works</a>
                                <a href="#tiers" className="text-gray-700 hover:text-blue-600 transition">Celebrity Tiers</a>
                                <a href="#profile-tiers" className="text-gray-700 hover:text-blue-600 transition">Profile Tiers</a>
                                <a href="#contact" className="text-gray-700 hover:text-blue-600 transition">Contact</a>
                            </nav>
                            <button 
                                onClick={() => setCurrentPage('login')}
                                className="btn-primary"
                            >
                                Get Started
                            </button>
                        </div>
                    </header>
                    
                    {/* Hero Section */}
                    <section className="py-20 px-4">
                        <div className="container mx-auto text-center">
                            <h1 className="text-5xl md:text-6xl font-bold mb-6">
                                <span className="bg-gradient-to-r from-blue-600 to-cyan-600 text-transparent bg-clip-text">AI Celebrity Detection</span> & Photo Staking
                            </h1>
                            <p className="text-xl text-gray-600 mb-10 max-w-3xl mx-auto">
                                Use your camera to capture moments with celebrities, let our AI detect them, and earn $MFT tokens based on their fame tier - from Bronze to Diamond
                            </p>
                            <div class="flex flex-col sm:flex-row gap-4 justify-center">
                                <button 
                                    onClick={() => setCurrentPage('dashboard')}
                                    className="btn-primary"
                                >
                                    Start Taking Photos
                                </button>
                                <button 
                                    onClick={() => setCurrentPage('dashboard')}
                                    className="bg-white text-blue-600 border-2 border-blue-600 px-8 py-3 rounded-full font-semibold hover:bg-gray-50 transition flex items-center"
                                >
                                    <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z" />
                                    </svg>
                                    Open Camera
                                </button>
                            </div>
                        </div>
                    </section>
                    
                    {/* How It Works */}
                    <section id="how-it-works" className="py-20 bg-gray-50">
                        <div className="container mx-auto px-4">
                            <div className="text-center mb-16">
                                <h2 className="text-4xl font-bold mb-4">How Meefie Works</h2>
                                <p className="text-xl text-gray-600">Simple steps to start earning from your celebrity encounters</p>
                            </div>
                            <div className="grid md:grid-cols-4 gap-8">
                                <div className="text-center p-8 bg-white rounded-2xl shadow-lg">
                                    <div className="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4">
                                        <svg xmlns="http://www.w3.org/2000/svg" className="h-8 w-8 text-blue-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z" />
                                        </svg>
                                    </div>
                                    <h3 className="text-2xl font-bold mb-4">Use Your Camera</h3>
                                    <p className="text-gray-600">Only photos taken through the camera can be staked, preventing cheating</p>
                                </div>
                                <div className="text-center p-8 bg-white rounded-2xl shadow-lg">
                                    <div className="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
                                        <svg xmlns="http://www.w3.org/2000/svg" className="h-8 w-8 text-green-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                                        </svg>
                                    </div>
                                    <h3 className="text-2xl font-bold mb-4">AI Celebrity Detection</h3>
                                    <p className="text-gray-600">Our advanced AI analyzes the photo and identifies celebrities with confidence scoring</p>
                                </div>
                                <div className="text-center p-8 bg-white rounded-2xl shadow-lg">
                                    <div className="w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4">
                                        <svg xmlns="http://www.w3.org/2000/svg" className="h-8 w-8 text-purple-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                                        </svg>
                                    </div>
                                    <h3 className="text-2xl font-bold mb-4">Tier-Based Rewards</h3>
                                    <p className="text-gray-600">Earn $MFT tokens with APY rates from 10% (Bronze) to 60% (Diamond) based on celebrity fame</p>
                                </div>
                                <div className="text-center p-8 bg-white rounded-2xl shadow-lg">
                                    <div className="w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4">
                                        <svg xmlns="http://www.w3.org/2000/svg" className="h-8 w-8 text-yellow-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z" />
                                        </svg>
                                    </div>
                                    <h3 className="text-2xl font-bold mb-4">Stake & Earn</h3>
                                    <p className="text-gray-600">Stake your celebrity photos to earn passive income in $MFT tokens on the SKALE network</p>
                                </div>
                            </div>
                        </div>
                    </section>
                    
                    {/* Celebrity Tiers */}
                    <section id="tiers" className="py-20">
                        <div className="container mx-auto px-4">
                            <div className="text-center mb-16">
                                <h2 className="text-4xl font-bold mb-4">Celebrity Tiering System</h2>
                                <p className="text-xl text-gray-600">AI-powered classification based on fame, influence, and global recognition</p>
                            </div>
                            <div className="grid md:grid-cols-5 gap-6">
                                {/* Bronze Tier */}
                                <div className="bg-white rounded-2xl shadow-lg p-6 text-center">
                                    <div className="celebrity-tier bronze mb-4">B</div>
                                    <h3 className="text-xl font-bold text-gray-800 mb-2">Bronze Tier</h3>
                                    <p className="text-gray-600 text-sm mb-4">Emerging/local celebrities</p>
                                    <div className="text-2xl font-bold text-orange-600 mb-2">10% APY</div>
                                    <p className="text-xs text-gray-500">Staking Reward</p>
                                    <ul className="text-xs text-gray-600 mt-4 space-y-1">
                                        <li>‚Ä¢ Emerging or locally celebrated figures</li>
                                        <li>‚Ä¢ Regional recognition</li>
                                        <li>‚Ä¢ Growing fan base</li>
                                    </ul>
                                </div>
                                {/* Silver Tier */}
                                <div className="bg-white rounded-2xl shadow-lg p-6 text-center">
                                    <div className="celebrity-tier silver mb-4">S</div>
                                    <h3 className="text-xl font-bold text-gray-800 mb-2">Silver Tier</h3>
                                    <p className="text-gray-600 text-sm mb-4">B-list/regional celebrities</p>
                                    <div className="text-2xl font-bold text-gray-600 mb-2">20% APY</div>
                                    <p className="text-xs text-gray-500">Staking Reward</p>
                                    <ul className="text-xs text-gray-600 mt-4 space-y-1">
                                        <li>‚Ä¢ Established recognition</li>
                                        <li>‚Ä¢ Regional popularity</li>
                                        <li>‚Ä¢ Strong following</li>
                                    </ul>
                                </div>
                                {/* Gold Tier */}
                                <div className="bg-white rounded-2xl shadow-lg p-6 text-center">
                                    <div className="celebrity-tier gold mb-4">G</div>
                                    <h3 className="text-xl font-bold text-gray-800 mb-2">Gold Tier</h3>
                                    <p className="text-gray-600 text-sm mb-4">National celebrities</p>
                                    <div className="text-2xl font-bold text-yellow-600 mb-2">30% APY</div>
                                    <p className="text-xs text-gray-500">Staking Reward</p>
                                    <ul className="text-xs text-gray-600 mt-4 space-y-1">
                                        <li>‚Ä¢ National recognition</li>
                                        <li>‚Ä¢ Significant following</li>
                                        <li>‚Ä¢ Industry influence</li>
                                    </ul>
                                </div>
                                {/* Platinum Tier */}
                                <div className="bg-white rounded-2xl shadow-lg p-6 text-center">
                                    <div className="celebrity-tier platinum mb-4">P</div>
                                    <h3 className="text-xl font-bold text-gray-800 mb-2">Platinum Tier</h3>
                                    <p className="text-gray-600 text-sm mb-4">A-list/global celebrities</p>
                                    <div className="text-2xl font-bold text-gray-700 mb-2">40% APY</div>
                                    <p className="text-xs text-gray-500">Staking Reward</p>
                                    <ul className="text-xs text-gray-600 mt-4 space-y-1">
                                        <li>‚Ä¢ Global recognition</li>
                                        <li>‚Ä¢ Massive fan base</li>
                                        <li>‚Ä¢ Worldwide influence</li>
                                    </ul>
                                </div>
                                {/* Diamond Tier */}
                                <div className="bg-white rounded-2xl shadow-lg p-6 text-center">
                                    <div className="celebrity-tier diamond mb-4">D</div>
                                    <h3 className="text-xl font-bold text-gray-800 mb-2">Diamond Tier</h3>
                                    <p className="text-gray-600 text-sm mb-4">Iconic/legendary celebrities</p>
                                    <div className="text-2xl font-bold text-blue-600 mb-2">60% APY</div>
                                    <p className="text-xs text-gray-500">Staking Reward</p>
                                    <ul className="text-xs text-gray-600 mt-4 space-y-1">
                                        <li>‚Ä¢ Unparalleled success</li>
                                        <li>‚Ä¢ Enduring fame</li>
                                        <li>‚Ä¢ Extraordinary global influence</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </section>
                    
                    {/* Profile Tiers */}
                    <section id="profile-tiers" className="py-20 bg-gray-50">
                        <div className="container mx-auto px-4">
                            <div className="text-center mb-16">
                                <h2 className="text-4xl font-bold mb-4">User Profile Tiering System</h2>
                                <p className="text-xl text-gray-600">Unlock more features and staking capacity as you level up</p>
                            </div>
                            <div className="grid md:grid-cols-5 gap-6">
                                {/* Starter Tier */}
                                <div className="bg-white rounded-2xl shadow-lg p-6 text-center">
                                    <div className="user-tier starter mb-4">STARTER</div>
                                    <p className="text-gray-600 text-sm mb-4">Entry level access</p>
                                    <div className="text-2xl font-bold text-gray-800 mb-4">0 MFT</div>
                                    <p className="text-xs text-gray-500 mb-4">Upgrade Fee</p>
                                    <ul className="text-sm text-gray-600 space-y-2">
                                        <li>‚Ä¢ Basic platform access</li>
                                        <li>‚Ä¢ Social Feed</li>
                                        <li>‚Ä¢ Wallet & Exchange</li>
                                        <li>‚Ä¢ Free photo capture</li>
                                    </ul>
                                </div>
                                {/* Explorer Tier */}
                                <div className="bg-white rounded-2xl shadow-lg p-6 text-center">
                                    <div className="user-tier explorer mb-4">EXPLORER</div>
                                    <p className="text-gray-600 text-sm mb-4">Beginner staker</p>
                                    <div className="text-2xl font-bold text-green-600 mb-4">20 MFT</div>
                                    <p className="text-xs text-gray-500 mb-4">Upgrade Fee</p>
                                    <ul className="text-sm text-gray-600 space-y-2">
                                        <li>‚Ä¢ Stake 2 photos</li>
                                        <li>‚Ä¢ Basic staking rewards</li>
                                        <li>‚Ä¢ Platform access</li>
                                        <li>‚Ä¢ Transaction history</li>
                                    </ul>
                                </div>
                                {/* Influencer Tier */}
                                <div className="bg-white rounded-2xl shadow-lg p-6 text-center">
                                    <div className="user-tier influencer mb-4">INFLUENCER</div>
                                    <p className="text-gray-600 text-sm mb-4">Active participant</p>
                                    <div className="text-2xl font-bold text-green-600 mb-4">50 MFT</div>
                                    <p className="text-xs text-gray-500 mb-4">Upgrade Fee</p>
                                    <ul className="text-sm text-gray-600 space-y-2">
                                        <li>‚Ä¢ Stake 5 photos</li>
                                        <li>‚Ä¢ Enhanced rewards</li>
                                        <li>‚Ä¢ Online events access</li>
                                        <li>‚Ä¢ Physical meet & greets</li>
                                    </ul>
                                </div>
                                {/* Elite Tier */}
                                <div className="bg-white rounded-2xl shadow-lg p-6 text-center">
                                    <div className="user-tier elite mb-4">ELITE</div>
                                    <p className="text-gray-600 text-sm mb-4">Serious collector</p>
                                    <div className="text-2xl font-bold text-yellow-600 mb-4">100 MFT</div>
                                    <p className="text-xs text-gray-500 mb-4">Upgrade Fee</p>
                                    <ul className="text-sm text-gray-600 space-y-2">
                                        <li>‚Ä¢ Stake 1-10 photos</li>
                                        <li>‚Ä¢ Premium rewards</li>
                                        <li>‚Ä¢ VIP features</li>
                                        <li>‚Ä¢ Priority support</li>
                                    </ul>
                                </div>
                                {/* Prestige Tier */}
                                <div className="bg-white rounded-2xl shadow-lg p-6 text-center">
                                    <div className="user-tier prestige mb-4">PRESTIGE</div>
                                    <p className="text-gray-600 text-sm mb-4">Ultimate experience</p>
                                    <div className="text-2xl font-bold text-red-600 mb-4">500 MFT</div>
                                    <p className="text-xs text-gray-500 mb-4">Upgrade Fee</p>
                                    <ul className="text-sm text-gray-600 space-y-2">
                                        <li>‚Ä¢ Unlimited staking</li>
                                        <li>‚Ä¢ Maximum rewards</li>
                                        <li>‚Ä¢ VIP access</li>
                                        <li>‚Ä¢ Exclusive events</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </section>
                    
                    {/* CTA */}
                    <section className="py-20 meefie-gradient text-white">
                        <div className="container mx-auto px-4 text-center">
                            <h2 className="text-4xl font-bold mb-6">Ready to Start Earning with Meefie?</h2>
                            <p className="text-xl mb-10 opacity-90">Use your camera to capture celebrity moments and start earning $MFT tokens</p>
                            <button 
                                onClick={() => setCurrentPage('dashboard')}
                                className="bg-white text-blue-600 px-8 py-4 rounded-full text-lg font-semibold hover:bg-gray-100 transition"
                            >
                                Start Earning Now
                            </button>
                        </div>
                    </section>
                    
                    {/* Footer */}
                    <footer className="bg-gray-900 text-white py-12">
                        <div className="container mx-auto px-4">
                            <div className="grid md:grid-cols-4 gap-8">
                                <div>
                                    <div className="flex items-center space-x-2 mb-4">
                                        <div className="w-8 h-8 bg-gradient-to-r from-blue-400 to-cyan-400 rounded-full flex items-center justify-center">
                                            <span className="text-white font-bold text-sm">M</span>
                                        </div>
                                        <h3 className="text-xl font-bold">Meefie</h3>
                                    </div>
                                    <p className="text-gray-400">Connecting fans with celebrities through innovative AI detection and blockchain technology</p>
                                </div>
                                <div>
                                    <h4 className="font-bold mb-4">Product</h4>
                                    <ul className="space-y-2 text-gray-400">
                                        <li><a href="#" className="hover:text-white transition">AI Detection</a></li>
                                        <li><a href="#" className="hover:text-white transition">Photo Staking</a></li>
                                        <li><a href="#" className="hover:text-white transition">Celebrity Tiers</a></li>
                                        <li><a href="#" className="hover:text-white transition">Profile Tiers</a></li>
                                    </ul>
                                </div>
                                <div>
                                    <h4 className="font-bold mb-4">Company</h4>
                                    <ul className="space-y-2 text-gray-400">
                                        <li><a href="#" className="hover:text-white transition">About</a></li>
                                        <li><a href="#" className="hover:text-white transition">Blog</a></li>
                                        <li><a href="#" className="hover:text-white transition">Careers</a></li>
                                        <li><a href="#" className="hover:text-white transition">Contact</a></li>
                                    </ul>
                                </div>
                                <div>
                                    <h4 className="font-bold mb-4">Legal</h4>
                                    <ul className="space-y-2 text-gray-400">
                                        <li><a href="#" className="hover:text-white transition">Terms</a></li>
                                        <li><a href="#" className="hover:text-white transition">Privacy</a></li>
                                        <li><a href="#" className="hover:text-white transition">Cookies</a></li>
                                        <li><a href="#" className="hover:text-white transition">Token Contract</a></li>
                                    </ul>
                                </div>
                            </div>
                            <div className="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400">
                                <p>&copy; 2023 Meefie. All rights reserved.</p>
                            </div>
                        </div>
                    </footer>
                </div>
            );
            
            const LoginPage = () => (
                <div className="min-h-screen bg-gradient-to-br from-blue-50 to-cyan-50 flex items-center justify-center p-4">
                    <div className="bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full">
                        <div className="text-center mb-8">
                            <div className="w-16 h-16 bg-gradient-to-r from-blue-400 to-cyan-400 rounded-full flex items-center justify-center mx-auto mb-4">
                                <span className="text-white font-bold text-2xl">M</span>
                            </div>
                            <h1 className="text-3xl font-bold text-gray-800 mb-2">Welcome to Meefie</h1>
                            <p className="text-gray-600">Login to your account</p>
                        </div>
                        <div className="space-y-6">
                            <div>
                                <label className="block text-sm font-medium text-gray-700 mb-2">Email</label>
                                <input 
                                    type="email" 
                                    className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                    placeholder="Enter your email"
                                />
                            </div>
                            <div>
                                <label className="block text-sm font-medium text-gray-700 mb-2">Password</label>
                                <input 
                                    type="password" 
                                    className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                    placeholder="Enter your password"
                                />
                            </div>
                            <button 
                                onClick={login}
                                className="w-full btn-primary"
                            >
                                Sign In
                            </button>
                            <div className="text-center">
                                <p className="text-gray-600">Don't have an account? <span className="text-blue-600 font-medium cursor-pointer">Sign up</span></p>
                            </div>
                            <div className="relative">
                                <div className="absolute inset-0 flex items-center">
                                    <div className="w-full border-t border-gray-300"></div>
                                </div>
                                <div className="relative flex justify-center text-sm">
                                    <span className="px-2 bg-white text-gray-500">Or continue with</span>
                                </div>
                            </div>
                            <button className="w-full flex items-center justify-center px-4 py-3 border border-gray-300 rounded-lg shadow-sm bg-white text-sm font-medium text-gray-700 hover:bg-gray-50">
                                <svg className="h-5 w-5 mr-2" viewBox="0 0 24 24">
                                    <path d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" fill="#4285F4"/>
                                    <path d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" fill="#34A853"/>
                                    <path d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" fill="#FBBC05"/>
                                    <path d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" fill="#EA4335"/>
                                </svg>
                                Google
                            </button>
                        </div>
                    </div>
                </div>
            );
            
            const DashboardPage = () => (
                <div className="min-h-screen bg-gray-50">
                    <header className="bg-white shadow-sm border-b">
                        <div className="container mx-auto px-4 py-4 flex justify-between items-center">
                            <div className="flex items-center space-x-4">
                                <div className="w-10 h-10 bg-gradient-to-r from-blue-400 to-cyan-400 rounded-full flex items-center justify-center">
                                    <span className="text-white font-bold text-lg">M</span>
                                </div>
                                <h1 className="text-2xl font-bold bg-gradient-to-r from-blue-600 to-cyan-600 text-transparent bg-clip-text">Meefie</h1>
                                <div className="hidden md:flex items-center space-x-1 text-sm text-gray-600">
                                    <span>Wallet:</span>
                                    <span className="font-mono text-xs bg-gray-100 px-2 py-1 rounded">0x123...abc</span>
                                </div>
                            </div>
                            <div className="flex items-center space-x-4">
                                <div className="bg-gradient-to-r from-blue-500 to-cyan-500 text-white px-3 py-2 rounded-full text-sm font-semibold">
                                    {userMftBalance} $MFT
                                </div>
                                <div className="relative">
                                    <img src="https://placehold.co/40x40/e2e8f0/64748b?text=JD" alt="User" className="w-10 h-10 rounded-full" />
                                    <div className="absolute -top-1 -right-1 w-3 h-3 bg-green-500 rounded-full border-2 border-white"></div>
                                </div>
                            </div>
                        </div>
                    </header>
                    
                    <div className="container mx-auto px-4 py-6">
                        <div className="grid grid-cols-1 lg:grid-cols-3 gap-6">
                            <div className="lg:col-span-2 space-y-6">
                                <div className="bg-white rounded-2xl shadow-lg p-6">
                                    <h2 className="text-xl font-bold text-gray-800 mb-6">Capture & Detect Celebrities</h2>
                                    
                                    {currentView === 'upload' && !cameraActive && !capturedImage && (
                                        <div className="upload-area">
                                            <svg xmlns="http://www.w3.org/2000/svg" className="h-12 w-12 text-blue-500 mx-auto mb-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z" />
                                            </svg>
                                            <h3 className="text-xl font-semibold text-gray-800 mb-2">Open Camera</h3>
                                            <p className="text-gray-600 mb-4">Use your device camera to capture moments with celebrities</p>
                                            {cameraError && (
                                                <div className="camera-error">
                                                    {cameraError}
                                                </div>
                                            )}
                                            <button 
                                                onClick={startCamera}
                                                className="btn-primary"
                                            >
                                                <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5 mr-2 inline" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z" />
                                                </svg>
                                                Open Camera
                                            </button>
                                        </div>
                                    )}
                                    
                                    {cameraActive && (
                                        <div>
                                            <div className="camera-container">
                                                <video 
                                                    ref={videoRef} 
                                                    autoPlay 
                                                    playsInline 
                                                    className="camera-video"
                                                ></video>
                                                <div className="camera-overlay">
                                                    <div className="camera-header">
                                                        <div className="cancel-button" onClick={stopCamera}>
                                                            <svg xmlns="http://www.w3.org/2000/svg" className="h-6 w-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M6 18L18 6M6 6l12 12" />
                                                            </svg>
                                                        </div>
                                                    </div>
                                                    <div className="camera-footer">
                                                        <div className="capture-button" onClick={capturePhoto}></div>
                                                    </div>
                                                </div>
                                                {cameraLoading && (
                                                    <div className="camera-loader">
                                                        <div className="loader-spinner"></div>
                                                        <p>Accessing camera...</p>
                                                    </div>
                                                )}
                                            </div>
                                        </div>
                                    )}
                                    
                                    {capturedImage && (
                                        <div className="mt-6">
                                            <h3 className="text-lg font-semibold text-gray-800 mb-4">Your Captured Photo</h3>
                                            <img src={capturedImage} alt="Captured" className="w-full rounded-xl shadow-lg mb-4" />
                                            <div className="flex gap-4">
                                                <button 
                                                    onClick={() => {
                                                        setCapturedImage(null);
                                                        startCamera();
                                                    }}
                                                    className="flex-1 px-4 py-2 bg-gray-200 text-gray-800 rounded-lg font-medium"
                                                >
                                                    Retake Photo
                                                </button>
                                                <button 
                                                    onClick={startDetection}
                                                    className="btn-primary flex-1"
                                                >
                                                    <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5 mr-2 inline" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                                                    </svg>
                                                    Detect Celebrities
                                                </button>
                                            </div>
                                        </div>
                                    )}
                                    
                                    {showDetection && (
                                        <div>
                                            <h3 className="text-lg font-semibold text-gray-800 mb-4">AI Detection in Progress</h3>
                                            <div className="w-full bg-gray-200 rounded-full h-3 mb-4">
                                                <div 
                                                    className="bg-gradient-to-r from-blue-500 to-cyan-500 h-3 rounded-full"
                                                    style={{ width: `${detectionProgress}%` }}
                                                ></div>
                                            </div>
                                            <p className="text-center text-gray-600">Analyzing photo for celebrity identification...</p>
                                        </div>
                                    )}
                                    
                                    {detectionResults.length > 0 && (
                                        <div>
                                            <h3 className="text-lg font-semibold text-gray-800 mb-4">AI Detection Results</h3>
                                            {detectionResults.map((celebrity, index) => (
                                                <div key={index} className={`detection-result ${celebrity.tier.toLowerCase()}`}>
                                                    <div className="flex items-center">
                                                        <img src={celebrity.image} alt={celebrity.name} className="w-16 h-16 rounded-lg mr-4" />
                                                        <div>
                                                            <h4 className="font-bold text-gray-800">{celebrity.name}</h4>
                                                            <p className="text-sm font-bold text-gray-600">{celebrity.tier} Tier ‚Ä¢ {celebrity.apy}% APY</p>
                                                        </div>
                                                        <div className="ml-auto">
                                                            <span className="text-sm font-semibold">AI Confidence</span>
                                                            <div className="confidence-meter">
                                                                <div 
                                                                    className="confidence-fill" 
                                                                    style={{ width: `${Math.round(celebrity.confidence * 100)}%` }}
                                                                ></div>
                                                            </div>
                                                            <span className="text-xs">{Math.round(celebrity.confidence * 100)}%</span>
                                                        </div>
                                                    </div>
                                                    <button 
                                                        onClick={() => {
                                                            setSelectedPhoto({ celebrity });
                                                            setShowStakingModal(true);
                                                        }}
                                                        className="mt-4 bg-gradient-to-r from-green-500 to-blue-500 text-white px-4 py-2 rounded-lg text-sm font-semibold hover:from-green-600 hover:to-blue-600 transition"
                                                    >
                                                        Stake This Photo
                                                    </button>
                                                </div>
                                            ))}
                                        </div>
                                    )}
                                    
                                    {/* Hidden canvas for photo capture */}
                                    <canvas ref={canvasRef} style={{ display: 'none' }}></canvas>
                                </div>
                                
                                <div className="bg-white rounded-2xl shadow-lg p-6">
                                    <div className="flex justify-between items-center mb-6">
                                        <h2 className="text-xl font-bold text-gray-800">Your Staked Photos</h2>
                                        <span className="text-sm text-gray-600">Tier: <span className={`user-tier ${userTier.toLowerCase()}`}>{userTier}</span></span>
                                    </div>
                                    {stakedPhotos.length === 0 ? (
                                        <div className="text-center py-12">
                                            <div className="w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4">
                                                <svg xmlns="http://www.w3.org/2000/svg" className="h-12 w-12 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.228.398 6 6 0 01-4.772 0 6 6 0 00-3.228-.398L3.48 14.98a2 2 0 00-1.022.547M6 18l-.8.16A2 2 0 014 16.355V13.645a2 2 0 011.2-.985L6 12m8 0v7.645a2 2 0 01-1.2.985l-.8.16m8-13.645a2 2 0 01-2 2h-1.382a6 6 0 00-3.228-.398 6 6 0 01-4.772 0 6 6 0 00-3.228.398H8a2 2 0 01-2-2M6 18a2 2 0 11-4 0 2 2 0 014 0m12 0a2 2 0 11-4 0 2 2 0 014 0" />
                                                </svg>
                                            </div>
                                            <h3 className="text-lg font-medium text-gray-800 mb-2">No staked photos yet</h3>
                                            <p className="text-gray-600 mb-4">Capture a photo with a celebrity to start earning</p>
                                        </div>
                                    ) : (
                                        <div className="space-y-4">
                                            {stakedPhotos.map(photo => (
                                                <div key={photo.id} className="flex items-center p-4 border border-gray-200 rounded-xl">
                                                    <img src={photo.photo.celebrity.image} alt={photo.photo.celebrity.name} className="w-16 h-16 object-cover rounded-lg mr-4" />
                                                    <div>
                                                        <h3 className="font-semibold text-gray-800">{photo.photo.celebrity.name}</h3>
                                                        <p className="text-sm text-gray-600">{photo.photo.celebrity.tier} Tier ‚Ä¢ {photo.photo.celebrity.apy}% APY</p>
                                                        <p className="text-xs text-gray-500">Staked on {photo.stakeDate}</p>
                                                    </div>
                                                    <div className="ml-auto text-right">
                                                        <div className="text-sm font-bold text-green-600">+{photo.dailyReturn}% daily</div>
                                                        <div className="text-xs text-gray-500">Estimated return</div>
                                                    </div>
                                                </div>
                                            ))}
                                        </div>
                                    )}
                                </div>
                            </div>
                            
                            <div className="space-y-6">
                                <div className="bg-white rounded-2xl shadow-lg p-6">
                                    <div className="flex items-center space-x-4 mb-4">
                                        <img src="https://placehold.co/60x60/e2e8f0/64748b?text=JD" alt="User" className="w-12 h-12 rounded-full" />
                                        <div>
                                            <h3 className="font-bold text-gray-800">John Doe</h3>
                                            <p className="text-sm text-gray-600">john@example.com</p>
                                        </div>
                                    </div>
                                    <div className="space-y-4">
                                        <div>
                                            <div className="flex justify-between items-center mb-2">
                                                <span className="text-sm font-medium text-gray-700">Account Tier</span>
                                                <span className={`user-tier ${userTier.toLowerCase()}`}>
                                                    {userTier}
                                                </span>
                                            </div>
                                            <div className="bg-gray-50 rounded-lg p-3">
                                                <div className="text-xs text-gray-600 mb-1">Concurrent Stakes</div>
                                                <div className="flex justify-between">
                                                    <span className="text-sm font-semibold text-gray-800">{stakedPhotos.length}</span>
                                                    <span className="text-sm text-gray-600">/ {userTiers[userTier].maxStakes === Infinity ? 'Unlimited' : userTiers[userTier].maxStakes}</span>
                                                </div>
                                                <div className="w-full bg-gray-200 rounded-full h-2 mt-2">
                                                    <div 
                                                        className="bg-blue-500 h-2 rounded-full" 
                                                        style={{ width: `${userTiers[userTier].maxStakes === Infinity ? 100 : (stakedPhotos.length / userTiers[userTier].maxStakes) * 100}%` }}
                                                    ></div>
                                                </div>
                                            </div>
                                        </div>
                                        <div className="border-t pt-4">
                                            <h4 className="font-medium text-gray-800 mb-3">Upgrade Options</h4>
                                            <div className="space-y-2">
                                                {Object.keys(userTiers).map(tier => {
                                                    if (tier !== userTier) {
                                                        const tierInfo = userTiers[tier];
                                                        return (
                                                            <button 
                                                                key={tier}
                                                                onClick={() => upgradeTier(tier)}
                                                                disabled={userMftBalance < tierInfo.fee}
                                                                className={`w-full text-left px-3 py-2 text-sm rounded-lg ${
                                                                    userMftBalance >= tierInfo.fee 
                                                                        ? 'bg-blue-50 text-blue-700 hover:bg-blue-100' 
                                                                        : 'bg-gray-50 text-gray-400 cursor-not-allowed'
                                                                }`}
                                                            >
                                                                <div className="font-semibold">{tier}</div>
                                                                <div className="text-xs">
                                                                    {tierInfo.fee > 0 ? `${tierInfo.fee} MFT` : 'Free'} ‚Ä¢ Up to {tierInfo.maxStakes === Infinity ? 'Unlimited' : tierInfo.maxStakes} stakes
                                                                </div>
                                                            </button>
                                                        );
                                                    }
                                                    return null;
                                                })}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div className="bg-gradient-to-br from-blue-500 to-cyan-500 text-white rounded-2xl shadow-lg p-6">
                                    <h3 className="text-lg font-bold mb-4">How Staking Works</h3>
                                    <ul className="text-sm space-y-2">
                                        <li className="flex items-center">
                                            <svg className="h-4 w-4 mr-2" fill="currentColor" viewBox="0 0 20 20">
                                                <path fillRule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clipRule="evenodd" />
                                            </svg>
                                            Use camera to capture photo with celebrity
                                        </li>
                                        <li className="flex items-center">
                                            <svg className="h-4 w-4 mr-2" fill="currentColor" viewBox="0 0 20 20">
                                                <path fillRule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clipRule="evenodd" />
                                            </svg>
                                            AI detects celebrities and their tier
                                        </li>
                                        <li className="flex items-center">
                                            <svg className="h-4 w-4 mr-2" fill="currentColor" viewBox="0 0 20 20">
                                                <path fillRule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clipRule="evenodd" />
                                            </svg>
                                            Stake photo based on celebrity tier
                                        </li>
                                        <li className="flex items-center">
                                            <svg className="h-4 w-4 mr-2" fill="currentColor" viewBox="0 0 20 20">
                                                <path fillRule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clipRule="evenodd" />
                                            </svg>
                                            Earn $MFT tokens with tier-based APY
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );
            
            return (
                <div>
                    {currentPage === 'home' && <HomePage />}
                    {currentPage === 'login' && <LoginPage />}
                    {currentPage === 'dashboard' && user && <DashboardPage />}
                    {showDetection && <DetectionModal />}
                    {showStakingModal && <StakingModal />}
                </div>
            );
        };
        
        const container = document.getElementById('app');
        const root = ReactDOM.createRoot(container);
        root.render(<App />);
    </script>
</body>
</html>
